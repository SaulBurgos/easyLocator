!function(t){var o=this;this.easyLocatorMethods={locations:[],htmlPlug:'<div class="locatorMap_loader">Loading...</div><div id="mapContainer_map" class="locatorMap_map"> </div><div class="locatorMap_listContainer locatorMap_list--desktop js-locatorMap_listContainerDesktop"><div class="locatorMap_listContainer_filter">  <input class="locatorMap_listContainer_filter_input" type="text" placeholder="filter.."> </div><ul class="locatorMap_list js-locatorMap_list"></ul> </div><div class="locatorMap_listContainer locatorMap_list--mobile js-locatorMap_listContainerMobile" style="display:none"> <div class="locatorMap_list_close js-locatorMap_list_Close"> <i class="fa fa-chevron-down"></i> </div><ul class="locatorMap_list"></ul> </div>',options:{mapContainer:void 0,map:void 0,isAPIloaded:!1,myLocations:[],openInfowindowAfterClick:!1,showListOnDesktop:!0,itemListActiveCustomClass:"",infoWindowCustomClass:"",useMarkerCluster:!1,afterCLick:void 0,mapType:void 0,markerClustererOptions:{maxZoom:12}},loadScripts:function(t){this.showHideLoader("show");var e="https://maps.googleapis.com/maps/api/js?libraries=places&signed_in=true&signed_in=true&language=en&callback=window.easyLocatorMethods.loadMap",s=document.createElement("link");s.rel="stylesheet",s.href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css";var a=document.getElementsByTagName("link")[0];if(a.parentNode.insertBefore(s,a),"object"==typeof google&&"object"==typeof google.maps)o.easyLocatorMethods.options.isAPIloaded=!0,this.loadMap();else{"undefined"!=typeof this.options.apiKey&&(e="https://maps.googleapis.com/maps/api/js?libraries=places&signed_in=true&signed_in=true&language=en&key="+this.options.apiKey+"&callback=window.easyLocatorMethods.loadMap");var i=document.createElement("script");i.type="text/javascript",i.src=e,document.body.appendChild(i)}},loadMap:function(){this.options.isAPIloaded=!0;var t={zoom:8,center:new google.maps.LatLng(-34.397,150.644),mapTypeId:google.maps.MapTypeId.ROADMAP};"undefined"!=typeof this.options.mapType&&(t.mapTypeId=google.maps.MapTypeId[this.options.mapType]),this.options.map=new google.maps.Map(document.getElementById("mapContainer_map"),t),this.options.map.controls[google.maps.ControlPosition.TOP_CENTER].push(this.createButtonList()),this.options.infoWindow=new google.maps.InfoWindow({maxWidth:400}),this.options.markerClusterer=new MarkerClusterer(this.options.map,null,this.options.markerClustererOptions),google.maps.event.addListenerOnce(this.options.map,"idle",function(){return"undefined"!=typeof o.easyLocatorMethods.options.spreadsheetId?void o.easyLocatorMethods.getJsonData():void(o.easyLocatorMethods.options.myLocations.length>0&&o.easyLocatorMethods.loadMyLocations())})},createEvents:function(){t(".js-locatorMap_list_Close").on("click",function(){t(".js-locatorMap_listContainerMobile").slideToggle("fast")}),t(".locatorMap_listContainer_filter_input").change(function(){o.easyLocatorMethods.filterList(this)}).keyup(function(){o.easyLocatorMethods.filterList(this)})},filterList:function(o){var e=t(o).val();""!=e?(t(".js-locatorMap_list").find('.locatorMap_list_item_title:not(:contains_("'+e+'"))').parent().slideUp(),t(".js-locatorMap_list").find('.locatorMap_list_item_title:contains_("'+e+'")').parent().slideDown()):t(".js-locatorMap_list").find("li").slideDown()},createButtonList:function(o){var e=t.parseHTML('<div id="locatorMap_openList"><i class="fa fa-list"></i></div>')[0];return google.maps.event.addDomListener(e,"click",function(){t(".js-locatorMap_listContainerMobile").slideToggle("fast")}),e},showHideLoader:function(o){"show"==o?t(".locatorMap_loader").show():t(".locatorMap_loader").hide()},getJsonData:function(){var t=document.createElement("script");t.type="text/javascript",t.src="https://spreadsheets.google.com/feeds/list/"+this.options.spreadsheetId+"/od6/public/values?hl=en_US&alt=json&callback=window.easyLocatorMethods.successGetJsonData",t.async=!0,document.body.appendChild(t)},getContentITemList:function(t,o){var e='<li class="locatorMap_list_item" data-indexarray="'+t+'"><i class="locatorMap_list_item_icon fa fa-map-marker"></i> <span class="locatorMap_list_item_title">'+o+"</span></li>";return e},successGetJsonData:function(o){var e=t(".locatorMap_list");e.empty();for(var s="",a=0;a<o.feed.entry.length;a++){var i=o.feed.entry[a];s+=this.getContentITemList(a,i.gsx$title.$t);var n=new google.maps.Marker({position:new google.maps.LatLng(i.gsx$lat.$t,i.gsx$lng.$t),map:this.options.map,title:i.gsx$title.$t});""!=i.gsx$iconmarker.$t&&n.setOptions({icon:{url:i.gsx$iconmarker.$t,scaledSize:new google.maps.Size(32,32)}}),this.locations.push({title:i.gsx$title.$t,description:i.gsx$description.$t,image:i.gsx$image.$t,link:i.gsx$link.$t,iconMarker:i.gsx$iconmarker.$t,marker:n}),this.options.useMarkerCluster&&this.options.markerClusterer.addMarker(n)}e.html(s),this.centerMapOnLocations(),this.attachEventLocations(),this.showHideLoader("hide")},loadMyLocations:function(){var o=t(".locatorMap_list");o.empty();for(var e="",s=0;s<this.options.myLocations.length;s++){var a=this.options.myLocations[s];e+=this.getContentITemList(s,a.title);var i=new google.maps.Marker({position:new google.maps.LatLng(a.lat,a.lng),map:this.options.map,title:a.title});"undefined"!=typeof a.iconMarker&&i.setOptions({icon:{url:a.iconMarker,scaledSize:new google.maps.Size(32,32)}}),this.locations.push({title:a.title,description:a.description,image:a.image,link:a.link,iconMarker:a.iconmarker,marker:i}),this.options.useMarkerCluster&&this.options.markerClusterer.addMarker(i)}o.html(e),this.centerMapOnLocations(),this.attachEventLocations(),this.showHideLoader("hide")},centerMapOnLocations:function(){for(var t=new google.maps.LatLngBounds,o=0;o<this.locations.length;o++)t.extend(this.locations[o].marker.getPosition());this.options.map.fitBounds(t)},attachEventLocations:function(){function e(t){google.maps.event.addListener(t.marker,"click",function(){o.easyLocatorMethods.openInfoWindow(t)})}for(var s=0;s<this.locations.length;s++)e(this.locations[s]);t(".locatorMap_list_item").on("click",function(){t(".locatorMap_list_item").removeClass(o.easyLocatorMethods.options.itemListActiveCustomClass);var e=o.easyLocatorMethods.locations[t(this).attr("data-indexarray")];o.easyLocatorMethods.options.map.setCenter(e.marker.getPosition()),o.easyLocatorMethods.options.openInfowindowAfterClick&&o.easyLocatorMethods.openInfoWindow(e),t(window).width()<=768&&t(".js-locatorMap_listContainerMobile").slideToggle("fast"),""!=o.easyLocatorMethods.options.itemListActiveCustomClass&&t(this).addClass(o.easyLocatorMethods.options.itemListActiveCustomClass)})},openInfoWindow:function(t){var e="",s="";""!=t.link&&(e='<p><a href="'+t.link+'" target="_blank">Link</a></p>'),""!=t.image&&(s='<img src="'+t.image+'" class="locatorMap_responsiveImg"/>');var a='<div id="locatorMap_contentInfoWindow" class="'+o.easyLocatorMethods.options.infoWindowCustomClass+' ">'+s+'<p class="locatorMap_contentInfoWindow_title"><b>'+t.title+"</b></p><p>"+t.description+"</p>"+e+"</div>";this.options.infoWindow.setContent(a),this.options.infoWindow.open(this.options.map,t.marker),"undefined"!=typeof this.options.afterCLick&&"function"==typeof this.options.afterCLick&&this.options.afterCLick(t)}},t.fn.easyLocator=function(e){return jQuery.expr[":"].contains_=function(t,o,e){return(t.textContent||t.innerText||"").toUpperCase().indexOf(e[3].toUpperCase())>=0},this.addClass("locatorMap"),this.html(o.easyLocatorMethods.htmlPlug),o.easyLocatorMethods.options=t.extend(o.easyLocatorMethods.options,e),o.easyLocatorMethods.options.mapContainer=this,o.easyLocatorMethods.loadScripts(),o.easyLocatorMethods.createEvents(),o.easyLocatorMethods.options.showListOnDesktop||(t("#mapContainer_map").addClass("locatorMap_map--fullWidth"),t(".js-locatorMap_listContainerDesktop").hide()),this}}(jQuery);